<h2>Validaciones reactivas</h2>
<hr>

<div class="row">
    <div class="col">

        <form autocomplete="off" [formGroup]="miFormulario" (ngSubmit)="submitFormulario()">

            <!-- Nombre -->
            <div class="row mb-3">
                <label for="" class="col-sm-3 col-form-label">Nombre:</label>
                <div class="col-sm-9">
                    <input type="text"
                    class="form-control"
                    placeholder="Nombre del usuario"
                    formControlName="nombre">

                    <span class="form-text text-danger" *ngIf="campoNoValido('nombre')">
                        Debe de ser en formato de nombre y apellido
                    </span>

                </div>

            </div>

              <!-- Email -->
              <div class="row mb-3">
                <label for="" class="col-sm-3 col-form-label">Email:</label>
                <div class="col-sm-9">
                    <input type="email"
                    class="form-control"
                    placeholder="Email del usuario"
                    formControlName="email">

                    <span class="form-text text-danger" *ngIf="campoNoValido('email')">
                        {{emailErrorMsg}}
                    </span>

                </div>

            </div>

              <!-- Username -->
              <div class="row mb-3">
                <label for="" class="col-sm-3 col-form-label">Username:</label>
                <div class="col-sm-9">
                    <input type="text"
                    class="form-control"
                    placeholder="Nombre código del usuario"
                    formControlName="username">

                      
                    <span class="form-text text-danger" *ngIf="campoNoValido('username')">
                        {{userErrorMsg}}
                     </span>
 

                </div>

            </div>

              <!-- Password -->
              <div class="row mb-3">
                <label for="" class="col-sm-3 col-form-label">Contraseña:</label>
                <div class="col-sm-9">
                    <input type="password"
                    class="form-control"
                    placeholder="Contraseña del usuario"
                    formControlName="password">

                    <span class="form-text text-danger" *ngIf="campoNoValido('password')">
                       La contraseña debe ser mayor de 6 caracteres.
                     </span>
 
                </div>

            </div>

            <!-- Password2 -->
            <div class="row mb-3">
                <label for="" class="col-sm-3 col-form-label">Confirmar contraseña:</label>
                <div class="col-sm-9">
                    <input type="password"
                    class="form-control"
                    placeholder="Confirmar la contraseña"
                    formControlName="password2">

                    <span class="form-text text-danger" *ngIf="campoNoValido('password2')">
                        Las contraseñas deben coincidir
                     </span>
 
                </div>

            </div>

            <!-- Btn -->

            <div class="row">
                <div class="col">
                    <button type="submit" class="btn btn-primary float-end" [disabled]="miFormulario.invalid">
                        Crear cuenta
                    </button>
                </div>
            </div>



        </form>

    </div>
</div>

<h2>Nota: Mantener en ejecucion el JSON web server para que las validaciones se hagan correctamente con el email y username  ... <a target="_blank" href="https://github.com/Danielzavala-reds/formularios-templateyReactivos/releases/tag/untagged-e362c8bf328bd6be0355">Enlace al db.json</a></h2>
<pre>Abrir la terminal hacer cd en la ubicación del archivo para correr el JSON server con el comando: <br> <strong> json-server --watch db.json (es necesario tener instalados los modulos de node instalados)</strong> </pre>
<br>
<br>

<h2>Form Valid: {{miFormulario.valid}}</h2>
<h2>Form Status: {{miFormulario.status}}</h2>
<h2>Form Pending: {{miFormulario.pending}}</h2>
<h2>Form Errors: </h2>
<pre>{{miFormulario.errors | json}}</pre>

<h5>Nombre</h5>
<pre> {{ miFormulario.controls['nombre'].errors | json }} </pre>

<h5>Email</h5>
<pre> {{ miFormulario.controls['email'].errors | json }} </pre>

<h5>Username</h5>
<pre> {{ miFormulario.controls['username'].errors | json }} </pre>

<h5>Password</h5>
<pre> {{ miFormulario.controls['password'].errors | json }} </pre>

<h5>Confirm password</h5>
<pre> {{ miFormulario.controls['password2'].errors | json }} </pre>